<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>A Blog about ConTeXt </title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="Aditya Mahajan" />
  <link rel="stylesheet" href="https://adityam.github.io/context-blog/css/styles.css" type="text/css" />
  <link rel="stylesheet" href="https://adityam.github.io/context-blog/css/paperclear.css" type="text/css" />
  
  <script type="module" defer
    src="//instant.page/3.0.0"
    integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1">
  </script>

  <script data-goatcounter="https://adityam.goatcounter.com/count"
          async src="//gc.zgo.at/count.js"></script>
</head>
<body>
  
  
  
  <div id="container">
    <div id="header" role="banner">
      <span id="title"><a href="https://adityam.github.io/context-blog">A Blog about ConTeXt</a></span><br />
      
    </div>
    
    
    
    <div id="menu" role="navigation">
      <ul class="nav tree">
        <li>
        <strong>Recent Posts</strong>
          <ul>
            
            
            
            <li><a href="/context-blog/post/remove-metadata-pdf/">Stripping metadata from PDF files</a></li>
            
            
            
            
            
            
            
            <li><a href="/context-blog/post/luatex-as-a-scripting-language/">LuaTeX as a scripting language</a></li>
            
            
            
            
            <li><a href="/context-blog/post/include-multi-page-pdf/">Include multi-page PDF</a></li>
            
            
            
            
            <li><a href="/context-blog/post/spacing-in-itemize/">Spacing in itemize</a></li>
            
            
            
            
            <li><a href="/context-blog/post/finding-the-meaning-of-a-command/">Finding the meaning of a command</a></li>
            
            
          </ul>
        </li>
        <li><strong><a href="https://adityam.github.io/context-blog/post">All Posts</a></strong></li>
      </ul>
    </div>
    
    
    
    <div id="content" role="main">


<h1>Stripping metadata from PDF files</h1>
<p class="post-time">Posted on November 2, 2021</p>

<p>Sometimes, for example when sending a review of a paper, I do not want the pdf file to contain any metadata. Ideally, the editorial process should take care of this, but I do not want to take any chances. In this post<sup class="footnote-ref" id="fnref:1"><a href="#fn:1">1</a></sup>, I explain a simple method to strip metadata from PDF files.</p>

<p>First, lets see what metadata is generated by a simple ConTeXt file.</p>
<pre tabindex="0"><code>$exiftool --all input.pdf
ExifTool Version Number         : 12.30
File Name                       : input.pdf
Directory                       : .
File Size                       : 13 KiB
File Modification Date/Time     : 2021:11:02 00:56:42-04:00
File Access Date/Time           : 2021:10:24 02:49:40-04:00
File Inode Change Date/Time     : 2021:11:02 00:56:42-04:00
File Permissions                : -rw-r--r--
File Type                       : PDF
File Type Extension             : pdf
MIME Type                       : application/pdf
Linearized                      : No
Con Te Xt Jobname               : input
Con Te Xt Support               : contextgarden.net
Con Te Xt Time                  : 2021-11-02 00:56
Con Te Xt Url                   : www.pragma-ade.com
Con Te Xt Version               : 2021.09.17 10:01
Create Date                     : 2021:11:02 00:56:42-04:00
ID                              : input | 2021-11-02T00:56:42-04:00
Modify Date                     : 2021:11:02 00:56:42-04:00
Te X Support                    : tug.org
Language                        : en
Format                          : application/pdf
Creator                         : 
Description                     : 
Title                           : input
Id                              : input | 2021-11-02T00:56:42-04:00
Con Te Xt Jobname               : input
Con Te Xt Time                  : 2021:11:02 00:56
Con Te Xt Url                   : www.pragma-ade.com
Con Te Xt Support               : contextgarden.net
Con Te Xt Version               : 2021.09.17 10:01
Con Te Xt LMTX                  : 
Te X Support                    : tug.org
Lua Te X Version                : 2.09
Lua Te X Functionality          : 20210914
Lua Te X Lua Version            : 5.4
Lua Te X Platform               : linux-64
Creator Tool                    : LuaMetaTeX 2.09 20210914 + ConTeXt LMTX 2021.09.17 10:01
Metadata Date                   : 2021:11:02 00:56:42-04:00
Keywords                        : 
Producer                        : LuaMetaTeX-2.09
Trapped                         : False
Document ID                     : uuid:76dc9aee-4451-9b7c-3d0c-785458e06945
Instance ID                     : uuid:20f757a8-44a5-938b-d99a-56b431f3b794
Page Mode                       : UseNone
Page Count                      : 2
PDF Version                     : 1.7</code></pre>
<p>The file literarily contains a <strong>“Made by ConTeXt”</strong> badge. Given the number of ConTeXt users, this might be more than enough to identify me in my research community. I do not want this information in the pdf file.</p>

<p>Fortunately, stripping this information is easy using [qpdf][qpdf]</p>
<pre tabindex="0"><code>$ qpdf --empty --pages input.pdf -- output.pdf</code></pre>
<p>where <code>input.pdf</code> is the name of the input file and <code>output.pdf</code> is the
desired name of the output file. We check the metadata again:</p>
<pre tabindex="0"><code>$exiftool --all output.pdf

ExifTool Version Number         : 12.30
File Name                       : output.pdf
Directory                       : .
File Size                       : 12 KiB
File Modification Date/Time     : 2021:11:02 01:01:17-04:00
File Access Date/Time           : 2021:11:02 01:01:23-04:00
File Inode Change Date/Time     : 2021:11:02 01:01:17-04:00
File Permissions                : -rw-r--r--
File Type                       : PDF
File Type Extension             : pdf
MIME Type                       : application/pdf
PDF Version                     : 1.3
Linearized                      : No
Page Count                      : 2</code></pre>
<p>Ah! Now there are no hints about the producer in the metadata.</p>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1">This is an updated version of <a href="https://randomdeterminism.wordpress.com/2010/08/18/stripping-metadata-from-pdf-files/">an old blog post</a>
 <a class="footnote-return" href="#fnref:1"><sup>[return]</sup></a></li>
</ol>
</div>

<hr />

<p class="nav">

<a href="/context-blog/post/luatex-as-a-scripting-language/">&nbsp;&lt;LuaTeX as a scripting language</a>


</p>

<p>
This entry was posted in 

<a href="https://adityam.github.io/context-blog/categories/cli">
  CLI</a> 
and tagged 

<a href="https://adityam.github.io/context-blog/tags/pdf">pdf</a>,
<a href="https://adityam.github.io/context-blog/tags/metadata">metadata</a>,
<a href="https://adityam.github.io/context-blog/tags/qpdf">qpdf</a>,
<a href="https://adityam.github.io/context-blog/tags/exifinfo">exifinfo</a>.
 
</p>

<div id="disqus_thread"></div>
<div id="disqus_comments">
  <button onclick="load_disqus()">Show Comments</button>
</div>
<script>
    function load_disqus() { 
        var d = document, s = d.createElement('script');
        s.src = '//random-determinism.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        var load_button = document.getElementById('disqus_comments');
        load_button.parentNode.removeChild(load_button);
    };
   (function () {
        var d = document, s = d.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//random-determinism.disqus.com/count.js';
        (d.head || d.body).appendChild(s);
    }()); 
</script>

<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>




    </div>
    
    
    
    <div id="pied" role="contentinfo">
      Content distributed under <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA</a> license
    </div>
  </div>
</body>
</html>


